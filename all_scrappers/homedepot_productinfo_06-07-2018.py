
# -*- coding: utf-8 -*-
import scrapy
import urllib

import os
import time
import re
import json
import re
import datetime
import demjson
from scrapy.http.cookies import CookieJar
import scrapy
import urllib
#from shop.items1 import TyreItem,MatchItem,Refurb
import os
from scrapy.exceptions import CloseSpider


class HomedepotItems(scrapy.Item):
    title = scrapy.Field()
    price = scrapy.Field()
    response_url=scrapy.Field()
    brand=scrapy.Field()
    breadcrumb=scrapy.Field()
    modelnumber=scrapy.Field()
    productid=scrapy.Field()
    item_id=scrapy.Field()
    ratings=scrapy.Field()
    reviews=scrapy.Field()
    ship_to_home=scrapy.Field()
    pick_up_at_store=scrapy.Field()
    home_installation=scrapy.Field()
    no_of_accessories=scrapy.Field()
    no_of_images=scrapy.Field()
    no_of_videos=scrapy.Field()
    node_1=scrapy.Field()
    node_2=scrapy.Field()
    node_3=scrapy.Field()
    node_4=scrapy.Field()
    node_5=scrapy.Field()
    node_6=scrapy.Field()
    node_7=scrapy.Field()


class HomedepotSpider(scrapy.Spider):
    handle_httpstatus_list = [404]
    imgcount = 1
    name = "homedepot_productinfo_06-07-2018"
    allowed_domains = ["homedepot.com"]
    #allowed_domains = ["https://www.linkedin.com/"]

    start_urls = ["http://www.flipkart.com/search?q=9780005996218"]
    #start_urls = ["https://www.linkedin.com/"]
    #start_urls = ["https://www.linkedin.com/pub/dir/Yogesh/Kadam"]


    def parse(self, response):
        urls_done=[
]
        #url="https://www.linkedin.com/search/results/index/?keywords=Ian%20Sideco%20Corporate%20Counsel&origin=GLOBAL_SEARCH_HEADER"
        urls=[
["2","https://www.homedepot.com/p/Whirlpool-4-8-cu-ft-High-Efficiency-White-Top-Load-Washing-Machine-with-Adapative-Wash-Technology-ENERGY-STAR-WTW7000DW/205870370"],
["3","https://www.homedepot.com/p/Amana-3-5-cu-ft-Top-Load-Washer-in-White-NTW4516FW/207204027"],
["4","https://www.homedepot.com/p/LG-Electronics-5-0-cu-ft-Smart-Top-Load-Washer-with-WiFi-Enabled-in-White-ENERGY-STAR-WT7200CW/301209890"],
["5","https://www.homedepot.com/p/GE-3-8-cu-ft-White-Top-Load-Washing-Machine-GTW330ASKWW/206824713"],
["6","https://www.homedepot.com/p/Samsung-5-0-cu-ft-High-Efficiency-Top-Load-Washer-in-White-ENERGY-STAR-WA50M7450AW/301176928"],
["7","https://www.homedepot.com/p/LG-Electronics-5-2-cu-ft-High-Efficiency-Top-Load-Washer-with-Steam-and-Turbo-Wash-in-White-ENERGY-STAR-WT7600HWA/207024896"],
["8","https://www.homedepot.com/p/4-in-Plastic-DWV-Flexible-Cap-PQC-104/100372305"],
["9","https://www.homedepot.com/p/GE-4-2-cu-ft-High-Efficiency-White-Top-Load-Washing-Machine-GTW460ASJWW/206355399"],
["10","https://www.homedepot.com/p/Maytag-4-2-cu-ft-High-Efficiency-White-Top-Load-Washing-Machine-with-Deep-Water-Wash-and-POWERWASH-Cycle-MVWC565FW/207084708"],
["11","https://www.homedepot.com/p/LG-Electronics-4-5-cu-ft-High-Efficiency-Top-Load-Washer-in-White-ENERGY-STAR-WT1501CW/206439639"],
["12","https://www.homedepot.com/p/Whirlpool-4-3-cu-ft-High-Efficiency-White-Top-Load-Washing-Machine-with-Quick-Wash-WTW5000DW/205538993"],
["13","https://www.homedepot.com/p/Maytag-4-3-cu-ft-High-Efficiency-White-Top-Load-Washing-Machine-with-Optimal-Dispensers-MVWX655DW/205594089"],
["14","https://www.homedepot.com/p/Watts-1-4-in-O-D-Plastic-End-Stop-PL-3047/204464935"],
["15","https://www.homedepot.com/p/Watts-1066-3-8-in-O-D-x-1-4-in-Plastic-FIP-Adapter-PL-3065/204464250"],
["16","https://www.homedepot.com/p/Arctic-Cove-3-8-in-x-20-ft-Flexible-Tubing-MAC3820T/204767973"],
["17","https://www.homedepot.com/p/Maytag-4-7-cu-ft-High-Efficiency-White-Top-Load-Washing-Machine-with-PowerWash-Cycle-MVWB765FW/300255072"],
["18","https://www.homedepot.com/p/Whirlpool-3-9-cu-ft-White-Top-Load-Washing-Machine-with-Soaking-Cycles-WTW4950HW/304733394"],
["19","https://www.homedepot.com/p/GE-4-6-cu-ft-High-Efficiency-White-Top-Load-Washing-Machine-ENERGY-STAR-GTW680BSJWS/206355465"],
["20","https://www.homedepot.com/p/Charlotte-Pipe-3-4-in-x-10-ft-Sch-80-Plastic-Pipe-PVC100070400HC/202268514"],
["21","https://www.homedepot.com/p/Kohler-Plastic-Insert-Clear-50349-0L/203782478"],
["22","https://www.homedepot.com/p/Arctic-Cove-3-8-in-x-2-ft-Tubing-for-Misting-Systems-MAC3824T/204767971"],
["23","https://www.homedepot.com/p/Maytag-5-3-cu-ft-High-Efficiency-White-Top-Load-Washing-Machine-with-Deep-Clean-Option-ENERGY-STAR-MVWB835DW/205875252"],
["24","https://www.homedepot.com/p/Whirlpool-3-8-cu-ft-White-Top-Load-Washing-Machine-with-Soaking-Cycles-WTW4955HW/304732822"],
["25","https://www.homedepot.com/p/Samsung-4-5-cu-ft-High-Efficiency-Top-Load-Washer-in-White-ENERGY-STAR-WA45M7050AW/301176927"],
["26","https://www.homedepot.com/p/Watts-5-16-in-O-D-x-1-4-in-O-D-Plastic-Coupling-PL-3016/204464263"],
["27","https://www.homedepot.com/p/Oatey-4-in-Disc-Plunger-39217/300659122"],
["28","https://www.homedepot.com/p/Dearborn-Brass-20-Gauge-1-1-2-in-Tee-Slip-Joint-Chrome-8481/300659101"],
["29","https://www.homedepot.com/p/Whirlpool-5-3-cu-ft-High-Efficiency-Chrome-Shadow-Top-Load-Washing-Machine-with-ColorLast-ENERGY-STAR-WTW8500DC/205595866"],
["30","https://www.homedepot.com/p/LG-Electronics-5-2-cu-ft-High-Efficiency-Top-Load-Washer-in-White-with-Turbo-Wash-ENERGY-STAR-WT7500CW/207024884"],
["31","https://www.homedepot.com/p/LG-Electronics-5-7-cu-ft-High-Efficiency-Top-Load-Washer-with-Steam-and-TurboWash-in-Graphite-Steel-ENERGY-STAR-WT7700HVA/205758716"],
["32","https://www.homedepot.com/p/Samsung-5-2-cu-ft-High-Efficiency-Top-Load-Washer-with-Steam-and-Activewash-in-Black-Stainless-ENERGY-STAR-WA52M7750AV/301530785"],
["33","https://www.homedepot.com/p/Dearborn-Brass-Waste-End-Outlet-Telescopic-with-3-4-Branch-P9121AT-12/300659087"],
["34","https://www.homedepot.com/p/Watts-1066-1-4-in-O-D-x-1-4-in-Plastic-FIP-Adapter-PL-3060/204464251"],
["35","https://www.homedepot.com/p/LG-Electronics-5-0-cu-ft-Smart-Top-Load-Washer-with-WiFi-Enabled-in-Black-Stainless-Steel-ENERGY-STAR-WT1901CK/301212948"],
["36","https://www.homedepot.com/p/GE-5-0-cu-ft-High-Efficiency-Diamond-Gray-Top-Load-Washing-Machine-and-Wifi-Connected-with-SmartDispense-ENERGY-STAR-GTW750CPLDG/302079637"],
["37","https://www.homedepot.com/p/Whirlpool-3-3-cu-ft-White-Commercial-Top-Load-Washing-Machine-CAE2745FQ/301844420"],
["38","https://www.homedepot.com/p/GE-4-5-cu-ft-High-Efficiency-White-Smart-Top-Load-Washing-Machine-with-Wifi-ENERGY-STAR-GTW685BSLWS/302079633"],
["39","https://www.homedepot.com/p/Maytag-5-2-cu-ft-Top-Load-Washer-with-the-Deep-Fill-Option-and-Power-Wash-Cycle-in-Metallic-Slate-MVWB865GC/304289950"],
["40","https://www.homedepot.com/p/Whirlpool-4-8-cu-ft-High-Efficiency-Top-Load-Washer-with-Built-In-Water-Faucet-in-White-Intuitive-Touch-Controls-WTW7500GW/303097667"],
["41","https://www.homedepot.com/p/GE-4-2-cu-ft-High-Efficiency-White-Top-Load-Washing-Machine-ENERGY-STAR-GTW485ASJWS/206355477"],
["42","https://www.homedepot.com/p/Samsung-5-4-cu-ft-High-Efficiency-Top-Load-Washer-with-Activewash-and-Steam-in-Black-Stainless-ENERGY-STAR-WA54M8750AV/301532127"],
["43","https://www.homedepot.com/p/GE-4-9-cu-ft-High-Efficiency-Top-Load-Washer-in-White-ENERGY-STAR-GTW755CSMWS/305857915"],
["44","https://www.homedepot.com/p/Samsung-5-2-cu-ft-High-Efficiency-Top-Load-Washer-with-Activewash-in-Black-Stainless-ENERGY-STAR-WA52M8650AV/301176930"],
["45","https://www.homedepot.com/p/GE-2-6-cu-ft-Stationary-Top-Load-Washing-Machine-in-White-WSLP1500HWW/205706410"],
["46","https://www.homedepot.com/p/Whirlpool-3-8-cu-ft-White-Top-Load-Washing-Machine-with-Soaking-Cycles-WTW4855HW/304734333"],
["47","https://www.homedepot.com/p/Whirlpool-3-3-cu-ft-White-Commercial-Top-Load-Washing-Machine-CAE2795FQ/301845807"],
["48","https://www.homedepot.com/p/Maytag-6-2-cu-ft-High-Efficiency-Metallic-Slate-Top-Load-Washing-Machine-with-POWERWASH-System-ENERGY-STAR-MVWB955FC/207193662"],
["49","https://www.homedepot.com/p/Danby-1-0-cu-ft-Portable-Top-Load-Washer-in-White-DWM028WDB-3/303966204"],
["50","https://www.homedepot.com/p/GE-2-8-cu-ft-Capacity-Stationary-Washer-with-Stainless-Steel-Basket-GNW128SSMWW/305143823"],
["51","https://www.homedepot.com/p/Whirlpool-5-3-cu-ft-High-Efficiency-White-Top-Load-Washing-Machine-with-Adapative-Wash-Technology-ENERGY-STAR-WTW8000DW/205792970"],
["52","https://www.homedepot.com/p/Maytag-3-8-cu-ft-High-Efficiency-White-Top-Load-Washing-Machine-with-Deep-Fill-Option-MVWC465HW/304732023"],
["53","https://www.homedepot.com/p/LG-Electronics-5-0-cu-ft-High-Efficiency-Top-Load-Washer-with-Steam-in-Graphite-Steel-ENERGY-STAR-WT5680HVA/204403938"],
["54","https://www.homedepot.com/p/Samsung-4-0-cu-ft-Top-Load-Washer-in-White-WA40J3000AW/300682331"],
["55","https://www.homedepot.com/p/Hotpoint-3-8-cu-ft-White-Top-Load-Washing-Machine-HTW240ASKWS/207188935"],
["56","https://www.homedepot.com/p/Whirlpool-3-9-cu-ft-High-Efficiency-White-Top-Load-Washing-Machine-with-Soaking-Cycles-WTW4850HW/304734063"],
["57","https://www.homedepot.com/p/Whirlpool-5-3-cu-ft-High-Efficiency-Smart-Chrome-Shadow-Top-Load-Washing-Machine-with-Remote-Control-ENERGY-STAR-WTW8700EC/206590229"],
]
        
        for url in urls:
            try:
                #urlpattern1="https://www.homedepot.com/p/svcs/frontEndModel/"+url[1]
                req = scrapy.Request( url[1] ,headers={'authority': 'www.homedepot.com' , 'cache-control': 'max-age=0' , 'upgrade-insecure-requests': '1' , 'user-agent': 'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.87 Safari/537.36' , 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8' , 'accept-encoding': 'gzip, deflate, br' , 'accept-language': 'en-US,en;q=0.9'}, callback=self.parse1)
                req.meta['item_id']=url[0]
                #req.cookies={'HD_DC':'origin', 'THD_FORCE_LOC':'1', 'check':'true', 'AMCVS_F6421253512D2C100A490D45%40AdobeOrg':'1', 'THD_CACHE_NAV_PERSIST':'', 'RES_TRACKINGID':'895354131831062', 'ResonanceSegment':'', 'cto_lwid':'91e95255-ef25-46f8-a529-8f80cf7567a8', '_ga':'GA1.2.208324430.1529567125', 'aam_uuid':'91189372835669781092423751423903140869', '_CT_RS_':'Recording', 'WRUID15e':'1793994368270430', '_mibhv':'anon-1529567126670-7198012935_4577', 'CT_THD_FORCE_LOC':'1', 'ftr_ncd':'6', '_abck':'4ACD8EBCCEAFF2C261B2FFCEF718E57117D4328A6603000090572B5B22F1AE2D~0~5eyVSbVZn5NzhXJThph1wShLUl74xVzEtuNFslQZS2c=~-1~-1', 'ats-cid-AM-141099-sid':'59029963x', 'LPVID':'JlM2Y3Y2ViZjA2YTA5MmUx', 'THD_CACHE_NAV_SESSION':'C20%7E8119_%7EC20_EXP%7E_%7EC22%7E1710_%7EC22_EXP%7E_%7EC26%7ENone_%7EC26_EXP%7E', '_gid':'GA1.2.1028106834.1530783614', 'THD_MCC_ID':'b9498ceb-e51f-493a-aa6a-a2236e434571', 'ak_bmsc':'ADCBF2A879914447E5510318F2E8478F7C7CFC94D3420000E8373F5B3B55FC25~plSaT0z6OsxC4DUQ7q/HB9q/IjybxC5NjUNEWkxAmSohTuRhPROvLCxy3jgnaKi8Q1srVspXaX3QTeVLfNNPg1Y1qF1+31alfLnwzDDQ27GJdTL7dwiVC0ybZ+xVsqtTxP6aYBNCBU26qZlYFvPYccPIwZFWcS45jdzAbSRYOOdwH9wdaODTjfKw8GI5L+9CPBx7cRC3E0xlFA8GTPwd6SeN2F6w3QmMIMIqlbEW+kTSRMwwaJ9b/6dOqXmaP3plpR', 'THD-LOC-STORE':'', 'ShowMiniCart':'true', 's_dfa':'homedepotprod', 'CT_LOC_STORE':'', 'LPSID-31564604':'Ybl3OHRCRWKSHycB_IxTzQ', 'ecrSessionId':'E9CCEFD6DCBE80A17EF4CB369AA68568', 'THD_SESSION':'', '_br_uid_2':'uid%3D1645695940395%3Av%3D12.0%3Ats%3D1529567126677%3Ahc%3D16', 'AMCV_F6421253512D2C100A490D45%40AdobeOrg':'-894706358%7CMCIDTS%7C17718%7CMCMID%7C91455857754636887762433555680828564080%7CMCAAMLH-1531203035%7C3%7CMCAAMB-1531475787%7CRKhpRz8krg2tLO6pguXWp5olkAcUniQYPHaMWWgdJ3xzPWQmdj0y%7CMCOPTOUT-1530876940s%7CNONE%7CMCAID%7CNONE%7CMCCIDH%7C-661508390%7CvVersion%7C2.3.0', 'THD_PERSIST':'C4%3D1710%2BGuam%2B-%2BTamuning%20-%20Tamuning%2C%20GU%2B%3A%3BC4_EXP%3D1581407121%3A%3BC24%3D96913%3A%3BC24_EXP%3D1581407121%3A%3BC34%3D32.0%3A%3BC34_EXP%3D1530957389', 'akaau':'1530871379~id=33e2b1897fb82d9fd867afcbb87bd8c4', 'bm_sv':'F53210998D2AB7277786E5EE61FDB279~um4a7iWnRZ6cQd7EypkaxTIT9KV5IUS0tObqnZWbQQEUPi2TrF6ljcjwrWuZ2/KM29VSumc/xwJ72KGCY71dCLVcvEDqer3FWxhnDiBjMEuxZcgstosIb/2lCOiKBTGcBgDjTUaIsH4gkAZFMVqp8Yg8KscsFmn/7k91cYdJooY=', 'bm_sz':'808368533F78DF08E26594224B9B8A57~QAAQijLUFwbSoWJkAQAA85sYb/MobSE3exFyi8yTE7xNndh3UrgscI95HFFupAAdQ3zHxztKsv0wsuLVDLNh6J+EzTMvYN/++/7WHhksZxPQtTn74BYbr7Mpv4sfSlTswZzHPqW2NSC+Tgn+EiX4A/3ma817sxLX+CMPM1VzbnTxVyIvy1a0mpSSwjItqQzZBR8=', 's_pers':'%20s_nr%3D1530872242306-Repeat%7C1562408242306%3B%20s_dslv%3D1530872242308%7C1625480242308%3B%20s_dslv_s%3DLess%2520than%25201%2520day%7C1530874042308%3B', 'mbox':'PC#c5dda6291304411da60dff188a0020a0.22_16#1592811926|session#a718ae7bce42403a838f094413abbfb7#1530874103', 's_sess':'%20s_sq%3D%3B%20s_cc%3Dtrue%3B%20s_pv_pName%3Dmini%2520cart%2520overlay%3B%20s_pv_pType%3Dmini%2520cart%2520overlay%3B%20s_pv_cmpgn%3D%3B%20stsh%3D%3B', '_px':'ZeuJS3mS8qZcbiUPDvGem0R9DJBHA/b/aa6eqXQfQCOh01xBJdLm20P+UtUGQrcyVoZoh2skP+rHi9Bea9rk7w==:1000:HqgYMA6PRLj+P6dLErrLjLZS98DnJ1wi722vRfqkx2ULlG8HnfyqRTlFXeG4Ri1mLzwwfXKWCyT60D+VGXLZggh66/OJxRQdeRGy0Nh94PGQ7/QxvfROILrEgKzWpKT01J6ZdkQ79JNQCdZR79Bgk7dgvO4jdETYvP7I1jDb/aEzO8Ed7YCY0KG47MfW/WENtVj/92FztlrJRRn18EWy885+lWdLSWDWMlgF1FOJJ3r518bg65lAgn+I8fyz9ceTskrlb0z6v7ZVYKNAz1VJ8w==', '_uetsid':'_uet9109e939', 'ctRefUrl':'https://www.homedepot.com/mycart/minicart#/?_k=4zpukj', 'forterToken':'8ccb5cac4b0b4a5c975055a2359bb15c_1530872242795__UDF43_6', '__CT_Data':'gpv=20&ckp=tld&dm=homedepot.com&apv_4_www23=20&cpv_4_www23=20&rpv_4_www23=20', 'ctm':'{\'pgv\':3910924518967985|\'vst\':3363691994335637|\'vstr\':5326201115753699|\'intr\':1530873607126|\'v\':1|\'lvst\':207}', '_4c_':'hZNtT9swEMe%2FyuQXvGoTPz9UQlNhbNqk8TCYJu0NShyHRqRNZDsUhPrdObeEARVa39R397uz7%2FK%2FR7ReuBWaEcGwVkxjYTCZoFv3ENDsEfmmSn93aIaw4AQTyURpKllQxRTDnFBjFS80qwiaoPttHcU4I1CN8M0EeTvmRz%2B4PYbLxMRnpi7a4N4iHHMBiF3Z9r%2FQja%2FHSrt2sIGWDNuD06W2f0Yf0eChNlrE2IdZnq%2FX62zRLV3l%2Bi5mtlvmZX7eDsuyWd1Mz5vehenXJkawwvS8LUJs7NY9vRoSkp9OxYMld3%2FL4f4B%2BrVd5aA6MRnPKNj10NZN217GzrvvXyACvn7wdlGExJ2CWbpYwLHzzU2zAvu4beztVdG639sEogwzhjOpqcKc4ZThu3VwHoLHCw9v%2FyRVugpaRBRrRjlgGRHUCKkIFRDr4POiP82qgkQwvaud99sKYIUmpre8mQK4o%2FPLlAbHs59Xv66PTubHZ6evRhfWRbB7wwshf3H1vqtygvMfl1OasQznwRiKCaaCSqO4%2Fjy%2FODokB8umOjSEC6GFUoJL6FUrJSlnTAghNdZUC8mxxgfzi5PDpL0%2BaYzDoe0sjAoMkPUEfZtf76b2wRwq0D6qXF0MbUQgi51SsBGwC2kdoOsI6tBwWfoBkS7aCoe%2F0FpxYaAFs0%2FvvszHOQyW7X0OPGeU8YinbknCWYrDm3c7NT78LcYITavXjFTxPq7FdjXX%2F5YlBSimmtDX6M4DKHyPsRipbG15QcqqFM5hWfBSG11L6gxxpUoSfy4guVCccM02m80T'}
                req.cookies={'HD_DC':'origin', 'THD_FORCE_LOC':'1', 'check':'true', 'AMCVS_F6421253512D2C100A490D45%40AdobeOrg':'1', 'RES_TRACKINGID':'895354131831062', 'ResonanceSegment':'', 'cto_lwid':'91e95255-ef25-46f8-a529-8f80cf7567a8', '_ga':'GA1.2.208324430.1529567125', 'aam_uuid':'91189372835669781092423751423903140869', '_CT_RS_':'Recording', 'WRUID15e':'1793994368270430', '_mibhv':'anon-1529567126670-7198012935_4577', 'CT_THD_FORCE_LOC':'1', 'ftr_ncd':'6', '_abck':'4ACD8EBCCEAFF2C261B2FFCEF718E57117D4328A6603000090572B5B22F1AE2D~0~5eyVSbVZn5NzhXJThph1wShLUl74xVzEtuNFslQZS2c=~-1~-1', 'ats-cid-AM-141099-sid':'59029963x', 'LPVID':'JlM2Y3Y2ViZjA2YTA5MmUx', 'THD_CACHE_NAV_SESSION':'C20%7E8119_%7EC20_EXP%7E_%7EC22%7E1710_%7EC22_EXP%7E_%7EC26%7ENone_%7EC26_EXP%7E', '_gid':'GA1.2.1028106834.1530783614', 'THD_MCC_ID':'b9498ceb-e51f-493a-aa6a-a2236e434571', 'THD-LOC-STORE':'', 'ShowMiniCart':'true', 'CT_LOC_STORE':'', 'THD_SESSION':'', 'bm_sz':'808368533F78DF08E26594224B9B8A57~QAAQijLUFwbSoWJkAQAA85sYb/MobSE3exFyi8yTE7xNndh3UrgscI95HFFupAAdQ3zHxztKsv0wsuLVDLNh6J+EzTMvYN/++/7WHhksZxPQtTn74BYbr7Mpv4sfSlTswZzHPqW2NSC+Tgn+EiX4A/3ma817sxLX+CMPM1VzbnTxVyIvy1a0mpSSwjItqQzZBR8=', 'ak_bmsc':'0F195B95190DC705DDD8C8BD8EAF84347C7CFCA3C912000018563F5BBA4ACD2F~plTh8Hm6s2UP7vgqX3Zdq9/m/HPLAqMkQXU1zYWcxiAZVNKCMVw7i/k3DhvX/P1yAvubtWQbAVMx0crWhrdSw4hU2wrRWbpXiilr9yNs6axWfv13tzaIDqocuCV8ayx+/EBk5Cp+AAQ+rmo6Msom8CM+isU0x+qg4mk9eBQnb73Nz4lKRwV6wvNo4q+9O+P+eVQ7vypGe5P6SE1R5I5s192BT0pAsroSfWrm0BVNkD23bZtvimdZluDdsS2wvNGyqy', 'THD_CACHE_NAV_PERSIST':"", 'LPSID-31564604':'ASGeB4ygRnKMXY8OFbrxwg', '_pxff_tm':'1', 's_dfa':'homedepotprod', 'RES_SESSIONID':'520298084390880', 'THD_PERSIST':'C4%3D1710%2BGuam%2B-%2BTamuning%20-%20Tamuning%2C%20GU%2B%3A%3BC4_EXP%3D1581407121%3A%3BC24%3D96913%3A%3BC24_EXP%3D1581407121%3A%3BC34%3D32.0%3A%3BC34_EXP%3D1530881274.829', '_br_uid_2':'uid%3D1645695940395%3Av%3D12.0%3Ats%3D1529567126677%3Ahc%3D23', '_gat':'1', 'ecrSessionId':'499D3FFBB10F3DECA80C0BBB198A2698', 'AMCV_F6421253512D2C100A490D45%40AdobeOrg':'-894706358%7CMCIDTS%7C17718%7CMCMID%7C91455857754636887762433555680828564080%7CMCAAMLH-1531203035%7C3%7CMCAAMB-1531485989%7CRKhpRz8krg2tLO6pguXWp5olkAcUniQYPHaMWWgdJ3xzPWQmdj0y%7CMCOPTOUT-1530884618s%7CNONE%7CMCAID%7CNONE%7CMCCIDH%7C-661508390%7CvVersion%7C2.3.0', 'akaau':'1530881581~id=1b28f3d3329a9b448b0c3f3c7c0b24b9', 'bm_sv':'312EFD4754E8931F871A8F24CBCB6F9C~EbwZkZCqLRSdfpP+bp3SskvjpJYAt26Rp1SiASd1oDzyFM76EJBa0ZXqLZ0pFDf6YuTaM5Hn/MVJ1debp6RA3+jbZnbXM3Ge04D1W9MQwPSQ3Cv9rfyRhsc0TaXLjGQf+FVXDhepR1lYs4jT9KyZaBcTFhvc697IDfaVSWZskiw=', 's_pers':'%20s_nr%3D1530881220809-Repeat%7C1562417220809%3B%20s_dslv%3D1530881220811%7C1625489220811%3B%20s_dslv_s%3DLess%2520than%25201%2520day%7C1530883020811%3B', 'mbox':'PC#c5dda6291304411da60dff188a0020a0.22_16#1592811926|session#77efb5c41fe44273bbb1cba2d087b3d4#1530883081', '_px':'bWoOD2Gh+MOcKmRdiefWqQEb6/bNWpHlgZUxNI0sFU4Ik8gYzaqXrB/kx6yF6GzagNmL3aM/bw9pq91IsvlZ6Q==:1000:T+z4PHtg/Hngl3DQIrgHHTD77bx4QyDZA6XrnFQlC/JKbioUa/JnXQwOmXyYljYSNstdc6asaup6esWd32OdNjd4+Z+BCaoy/N0jpjs98P0icL8lKyWarKOQNiCB0DAXbVyrntW4mY82t9AAgxU8ieJsva6zsvhnUY6M0NQ/Vd5kPhgHcUSkyuqYv7YHs4XDMbsk7i5jIuZDlkL90t/boKAR5dzEYhLV41xYdaDt/LkzGyziQZSCswOWluXvyYsx40Ob8dGnCt3FyFvNJ0haDQ==', 's_sess':'%20s_sq%3D%3B%20s_cc%3Dtrue%3B%20s_pv_pName%3Dmini%2520cart%2520overlay%3B%20s_pv_pType%3Dmini%2520cart%2520overlay%3B%20s_pv_cmpgn%3D%3B%20stsh%3D%3B', '_uetsid':'_uet8650607a', 'ctm':"{\'pgv\':6436954785468724|\'vst\':3423265420687422|\'vstr\':5326201115753699|\'intr\':1530881221857|\'v\':1|\'lvst\':42}", 'ctRefUrl':'https://www.homedepot.com/mycart/minicart#/?_k=am8wdw', 'forterToken':'8ccb5cac4b0b4a5c975055a2359bb15c_1530881221692__UDF43_6', '__CT_Data':'gpv=33&ckp=tld&dm=homedepot.com&apv_4_www23=33&cpv_4_www23=33&rpv_4_www23=32', '_4c_':'hVNbaxs9EP0rRQ958np1vxjCh%2BOG0A%2BSkDrFj0HWauMla%2B8iyd2G4P%2BekS9tLpT6ZTUzZ85Ix2de0LDyGzQhgmGtCaVGMzlCT%2F45oskLCk2VPz%2FRBGHBCSaSiaWppKWKKYY5ocYpbjWrCBqhX3sexTgjwEb4boSCO%2FWnsPWfMFxmTDpiattG%2Fx7CMRcAcRvX%2FhP0GOoT0%2FE5RBsh6SdwHur6I%2FQFbQNwo1VKfZyU5TAM41W39pXvuzR23brsy6vLgha6cNuiTsXM9tY16bmYJ5uabmPDc7GwceVDMTRpldPNpvUxwsn7triw8cmn4upmQaiez68Xi5JhQTjTlIEgrqs8jCdmzMcU4nrb1k3bzlMX%2FLevUIFcvw1uZWPG3UC49MnCsQvNY7OBeNY27unetv7HvoEow4zhTGqqMGc4d4RuiD5AcbYK8LgvUuVRoAGiWDPKATYmgoJcilABtQ7%2Bf7RoNhU0Qhh87UPYM0AUm5Tv8k4mSCcf1rkNjrfX998fLi6ns9ubN9rGwUb3Qd1lGWP5O9WHrioJLv%2BfF3TMxriMxlBMMBVUGsX1f9O7i3Nytm6qc0O4EFooJbiEt2qlJOWMCSGkxppqITnW%2BGx6d3mezdlnE3I4tJ0DqSAA34%2FQ1fThoNpfdKhgOVDla7ttEwLfHKyEjVQCzMUNvDqBfTQMyz9AAPjkwhM834UYKhjLdWA8rMSJ9j2MEZo3pzmh7Me6FvvNGv54PRcoprC%2Fb6GHDEBBrRMZqVztuCXLaim8x9LypTa6ltQb4pcqG%2FBIILlQnHDNdrvdKw%3D%3D'}
                #req.cookies = { 'lc-main':'en_US', 'x-wl-uid':'1yE71wxptnrPGpU96MVpeAljDAxEwlHAMNmRkGH3kTDbQNlw65AKYm8JBd2Nm33DfONRPH48N1DRE/phePYv7b8VzqI5P36U503gVSzRJSBmwDQKne/e/xfe/X3r9TLt9Mq2dGxVnAVsmo8PkOTlUOw==', 'skin':'noskin', 'x-main':'X2Uw?4D0ZsoVUNTB1ND?IqOhj4jrdt3SQM?nwPoWs2Vra8r9I13YbE1V8fqOmIli', 'at-main':'Atza|IwEBIM6arSMDjanfYsyURnaqmNeb87cZy6ift3_Ewd6ai-VCWQxN1VU8u-feDM43rwF2oZopky98QowPRIgSVmpR_qWGQgSAAMl_YsBf2E0nGom_GkU0Vl5JNLdIaGZ9g-Je-Uld-_qAa3onwe2Q_rUKPCN6j5PAu_78gARA9l5GI48so08VSR_tDyWO8p_WHTqj2dJMXqKZ-6YuhyOYGPbSFgupS_O-PofP6d9lqKlLtruDVDv98__UgkmhRmUXWTt3X3G_2ALthXr4_8tBnT4VpdNEWYqZKsJF0xej6dixrNlFNWoKyK-jojctn-E95wf1GmItDzSmmwM-fzp8LRptCncE_vJEfXTPknNoUcz2qoYx2kBsuYOviBUZSAONWCXII68hZD4SILOFPKAMmAXRBswx', 'sess-at-main':'hTCj4tFy0geBzyuGIGBYRUfOmwxbmm3iJjvmeMi/emE=', 'JSESSIONID':'C70160F1BC7EC0B9D5E1BD946AA543DF', 'csm-hit':'J1CK3EMBJCQHNYC6PB4P+s-CB6DMAQSAGGJC2C8H354|1503728162175', 'session-token':'n2Bkr05TMvQYIlxStLEPDDdd8KmwvXszRPl41nyUA+1+hlViB/+whjJG3jQjbUov8lRYLkN78KFEgYKt3ZQZjLd8PKw5Sp8DO2anI7lIo5iA5ZlBkkhTAAEz6qxH9pejQawVHIgLmQ0WLVWeZup/JQGwjoNITTENdcZ9A+C55Nfj0eEwqpNI661A1pvmaG9Y2hCGn0xf/zWQnGeus1aGeF6u3GdgzUTVEoqoashearQ8cngRhV/i0uxZoqRJly4ivJIy43Khphvj7Z++9vFB3w==', 'ubid-main':'131-1502033-8002851', 'session-id-time':'2082787201l', 'session-id':'130-6537552-1339612'}
                #req.cookies = {'__csrf_token-1':'xKVo4VZJqkyblSjFlWzEehgUFyHAQg', 'nocache':'detail-1', 'x-ua-device':'tablet', '_ga':'GA1.2.2072088434.1505733636', '_gid':'GA1.2.1081983427.1506316742', 'session-1':'8e46a0f8054191632d15e31849c5862d483ca54447ec216fce4403cd7e3c21de' }
                if url[0] not in urls_done:
                    yield req
                    #time.sleep(.1)
            
            except: raise
			
    def parse1(self, response):
        pattern = re.compile(r"var BREADCRUMB_JSON = ({.*?});", re.MULTILINE | re.DOTALL)
        locations = response.xpath('//script[contains(., "var BREADCRUMB_JSON")]/text()').re(pattern)[0]
        breadcrumb=demjson.decode(locations)
        breadcrumb= 'Home>'+breadcrumb['bcLivePersonData']
        installation=" ".join(response.xpath('//*[@id="productinfo_ctn"]/div[3]/div[2]/div/div/div[3]/div[2]/div[1]/div[2]/div[@class="what-we-offer__container-header"]/div//text()').extract()).replace('   ','').replace('\r','').replace('\n','').replace('\t','').strip()
        productid=response.url.split('/')[-1]
        #urlpattern="https://www.homedepot.com/p/svcs/fbt/"+productid
        urlpattern = 'https://www.homedepot.com/p/svcs/getProductIrgData?itemId=' +productid +'&irgCount=3&_=15311'
        req = scrapy.Request(urlpattern ,headers={'authority': 'www.homedepot.com' , 'cache-control': 'max-age=0' , 'upgrade-insecure-requests': '1' , 'user-agent': 'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.87 Safari/537.36' , 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8' , 'accept-encoding': 'gzip, deflate, br' , 'accept-language': 'en-US,en;q=0.9'}, callback=self.parse2, meta={'response_url':response.url, 'productid':productid, 'installation':installation, 'breadcrumb':breadcrumb, 'item_id':response.meta['item_id']})
        #req.cookies={'HD_DC':'origin', 'THD_FORCE_LOC':'1', 'check':'true', 'AMCVS_F6421253512D2C100A490D45%40AdobeOrg':'1', 'THD_CACHE_NAV_PERSIST':'', 'RES_TRACKINGID':'895354131831062', 'ResonanceSegment':'', 'cto_lwid':'91e95255-ef25-46f8-a529-8f80cf7567a8', '_ga':'GA1.2.208324430.1529567125', 'aam_uuid':'91189372835669781092423751423903140869', '_CT_RS_':'Recording', 'WRUID15e':'1793994368270430', '_mibhv':'anon-1529567126670-7198012935_4577', 'CT_THD_FORCE_LOC':'1', 'ftr_ncd':'6', '_abck':'4ACD8EBCCEAFF2C261B2FFCEF718E57117D4328A6603000090572B5B22F1AE2D~0~5eyVSbVZn5NzhXJThph1wShLUl74xVzEtuNFslQZS2c=~-1~-1', 'ats-cid-AM-141099-sid':'59029963x', 'LPVID':'JlM2Y3Y2ViZjA2YTA5MmUx', 'THD_CACHE_NAV_SESSION':'C20%7E8119_%7EC20_EXP%7E_%7EC22%7E1710_%7EC22_EXP%7E_%7EC26%7ENone_%7EC26_EXP%7E', '_gid':'GA1.2.1028106834.1530783614', 'THD_MCC_ID':'b9498ceb-e51f-493a-aa6a-a2236e434571', 'ak_bmsc':'ADCBF2A879914447E5510318F2E8478F7C7CFC94D3420000E8373F5B3B55FC25~plSaT0z6OsxC4DUQ7q/HB9q/IjybxC5NjUNEWkxAmSohTuRhPROvLCxy3jgnaKi8Q1srVspXaX3QTeVLfNNPg1Y1qF1+31alfLnwzDDQ27GJdTL7dwiVC0ybZ+xVsqtTxP6aYBNCBU26qZlYFvPYccPIwZFWcS45jdzAbSRYOOdwH9wdaODTjfKw8GI5L+9CPBx7cRC3E0xlFA8GTPwd6SeN2F6w3QmMIMIqlbEW+kTSRMwwaJ9b/6dOqXmaP3plpR', 'THD-LOC-STORE':'', 'ShowMiniCart':'true', 's_dfa':'homedepotprod', 'CT_LOC_STORE':'', 'LPSID-31564604':'Ybl3OHRCRWKSHycB_IxTzQ', 'ecrSessionId':'E9CCEFD6DCBE80A17EF4CB369AA68568', 'THD_SESSION':'', '_br_uid_2':'uid%3D1645695940395%3Av%3D12.0%3Ats%3D1529567126677%3Ahc%3D16', 'AMCV_F6421253512D2C100A490D45%40AdobeOrg':'-894706358%7CMCIDTS%7C17718%7CMCMID%7C91455857754636887762433555680828564080%7CMCAAMLH-1531203035%7C3%7CMCAAMB-1531475787%7CRKhpRz8krg2tLO6pguXWp5olkAcUniQYPHaMWWgdJ3xzPWQmdj0y%7CMCOPTOUT-1530876940s%7CNONE%7CMCAID%7CNONE%7CMCCIDH%7C-661508390%7CvVersion%7C2.3.0', 'THD_PERSIST':'C4%3D1710%2BGuam%2B-%2BTamuning%20-%20Tamuning%2C%20GU%2B%3A%3BC4_EXP%3D1581407121%3A%3BC24%3D96913%3A%3BC24_EXP%3D1581407121%3A%3BC34%3D32.0%3A%3BC34_EXP%3D1530957389', 'akaau':'1530871379~id=33e2b1897fb82d9fd867afcbb87bd8c4', 'bm_sv':'F53210998D2AB7277786E5EE61FDB279~um4a7iWnRZ6cQd7EypkaxTIT9KV5IUS0tObqnZWbQQEUPi2TrF6ljcjwrWuZ2/KM29VSumc/xwJ72KGCY71dCLVcvEDqer3FWxhnDiBjMEuxZcgstosIb/2lCOiKBTGcBgDjTUaIsH4gkAZFMVqp8Yg8KscsFmn/7k91cYdJooY=', 'bm_sz':'808368533F78DF08E26594224B9B8A57~QAAQijLUFwbSoWJkAQAA85sYb/MobSE3exFyi8yTE7xNndh3UrgscI95HFFupAAdQ3zHxztKsv0wsuLVDLNh6J+EzTMvYN/++/7WHhksZxPQtTn74BYbr7Mpv4sfSlTswZzHPqW2NSC+Tgn+EiX4A/3ma817sxLX+CMPM1VzbnTxVyIvy1a0mpSSwjItqQzZBR8=', 's_pers':'%20s_nr%3D1530872242306-Repeat%7C1562408242306%3B%20s_dslv%3D1530872242308%7C1625480242308%3B%20s_dslv_s%3DLess%2520than%25201%2520day%7C1530874042308%3B', 'mbox':'PC#c5dda6291304411da60dff188a0020a0.22_16#1592811926|session#a718ae7bce42403a838f094413abbfb7#1530874103', 's_sess':'%20s_sq%3D%3B%20s_cc%3Dtrue%3B%20s_pv_pName%3Dmini%2520cart%2520overlay%3B%20s_pv_pType%3Dmini%2520cart%2520overlay%3B%20s_pv_cmpgn%3D%3B%20stsh%3D%3B', '_px':'ZeuJS3mS8qZcbiUPDvGem0R9DJBHA/b/aa6eqXQfQCOh01xBJdLm20P+UtUGQrcyVoZoh2skP+rHi9Bea9rk7w==:1000:HqgYMA6PRLj+P6dLErrLjLZS98DnJ1wi722vRfqkx2ULlG8HnfyqRTlFXeG4Ri1mLzwwfXKWCyT60D+VGXLZggh66/OJxRQdeRGy0Nh94PGQ7/QxvfROILrEgKzWpKT01J6ZdkQ79JNQCdZR79Bgk7dgvO4jdETYvP7I1jDb/aEzO8Ed7YCY0KG47MfW/WENtVj/92FztlrJRRn18EWy885+lWdLSWDWMlgF1FOJJ3r518bg65lAgn+I8fyz9ceTskrlb0z6v7ZVYKNAz1VJ8w==', '_uetsid':'_uet9109e939', 'ctRefUrl':'https://www.homedepot.com/mycart/minicart#/?_k=4zpukj', 'forterToken':'8ccb5cac4b0b4a5c975055a2359bb15c_1530872242795__UDF43_6', '__CT_Data':'gpv=20&ckp=tld&dm=homedepot.com&apv_4_www23=20&cpv_4_www23=20&rpv_4_www23=20', 'ctm':'{\'pgv\':3910924518967985|\'vst\':3363691994335637|\'vstr\':5326201115753699|\'intr\':1530873607126|\'v\':1|\'lvst\':207}', '_4c_':'hZNtT9swEMe%2FyuQXvGoTPz9UQlNhbNqk8TCYJu0NShyHRqRNZDsUhPrdObeEARVa39R397uz7%2FK%2FR7ReuBWaEcGwVkxjYTCZoFv3ENDsEfmmSn93aIaw4AQTyURpKllQxRTDnFBjFS80qwiaoPttHcU4I1CN8M0EeTvmRz%2B4PYbLxMRnpi7a4N4iHHMBiF3Z9r%2FQja%2FHSrt2sIGWDNuD06W2f0Yf0eChNlrE2IdZnq%2FX62zRLV3l%2Bi5mtlvmZX7eDsuyWd1Mz5vehenXJkawwvS8LUJs7NY9vRoSkp9OxYMld3%2FL4f4B%2BrVd5aA6MRnPKNj10NZN217GzrvvXyACvn7wdlGExJ2CWbpYwLHzzU2zAvu4beztVdG639sEogwzhjOpqcKc4ZThu3VwHoLHCw9v%2FyRVugpaRBRrRjlgGRHUCKkIFRDr4POiP82qgkQwvaud99sKYIUmpre8mQK4o%2FPLlAbHs59Xv66PTubHZ6evRhfWRbB7wwshf3H1vqtygvMfl1OasQznwRiKCaaCSqO4%2Fjy%2FODokB8umOjSEC6GFUoJL6FUrJSlnTAghNdZUC8mxxgfzi5PDpL0%2BaYzDoe0sjAoMkPUEfZtf76b2wRwq0D6qXF0MbUQgi51SsBGwC2kdoOsI6tBwWfoBkS7aCoe%2F0FpxYaAFs0%2FvvszHOQyW7X0OPGeU8YinbknCWYrDm3c7NT78LcYITavXjFTxPq7FdjXX%2F5YlBSimmtDX6M4DKHyPsRipbG15QcqqFM5hWfBSG11L6gxxpUoSfy4guVCccM02m80T'}
        req.cookies={'HD_DC':'origin', 'THD_FORCE_LOC':'1', 'check':'true', 'AMCVS_F6421253512D2C100A490D45%40AdobeOrg':'1', 'RES_TRACKINGID':'895354131831062', 'ResonanceSegment':'', 'cto_lwid':'91e95255-ef25-46f8-a529-8f80cf7567a8', '_ga':'GA1.2.208324430.1529567125', 'aam_uuid':'91189372835669781092423751423903140869', '_CT_RS_':'Recording', 'WRUID15e':'1793994368270430', '_mibhv':'anon-1529567126670-7198012935_4577', 'CT_THD_FORCE_LOC':'1', 'ftr_ncd':'6', '_abck':'4ACD8EBCCEAFF2C261B2FFCEF718E57117D4328A6603000090572B5B22F1AE2D~0~5eyVSbVZn5NzhXJThph1wShLUl74xVzEtuNFslQZS2c=~-1~-1', 'ats-cid-AM-141099-sid':'59029963x', 'LPVID':'JlM2Y3Y2ViZjA2YTA5MmUx', 'THD_CACHE_NAV_SESSION':'C20%7E8119_%7EC20_EXP%7E_%7EC22%7E1710_%7EC22_EXP%7E_%7EC26%7ENone_%7EC26_EXP%7E', '_gid':'GA1.2.1028106834.1530783614', 'THD_MCC_ID':'b9498ceb-e51f-493a-aa6a-a2236e434571', 'THD-LOC-STORE':'', 'ShowMiniCart':'true', 'CT_LOC_STORE':'', 'THD_SESSION':'', 'bm_sz':'808368533F78DF08E26594224B9B8A57~QAAQijLUFwbSoWJkAQAA85sYb/MobSE3exFyi8yTE7xNndh3UrgscI95HFFupAAdQ3zHxztKsv0wsuLVDLNh6J+EzTMvYN/++/7WHhksZxPQtTn74BYbr7Mpv4sfSlTswZzHPqW2NSC+Tgn+EiX4A/3ma817sxLX+CMPM1VzbnTxVyIvy1a0mpSSwjItqQzZBR8=', 'ak_bmsc':'0F195B95190DC705DDD8C8BD8EAF84347C7CFCA3C912000018563F5BBA4ACD2F~plTh8Hm6s2UP7vgqX3Zdq9/m/HPLAqMkQXU1zYWcxiAZVNKCMVw7i/k3DhvX/P1yAvubtWQbAVMx0crWhrdSw4hU2wrRWbpXiilr9yNs6axWfv13tzaIDqocuCV8ayx+/EBk5Cp+AAQ+rmo6Msom8CM+isU0x+qg4mk9eBQnb73Nz4lKRwV6wvNo4q+9O+P+eVQ7vypGe5P6SE1R5I5s192BT0pAsroSfWrm0BVNkD23bZtvimdZluDdsS2wvNGyqy', 'THD_CACHE_NAV_PERSIST':"", 'LPSID-31564604':'ASGeB4ygRnKMXY8OFbrxwg', '_pxff_tm':'1', 's_dfa':'homedepotprod', 'RES_SESSIONID':'520298084390880', 'THD_PERSIST':'C4%3D1710%2BGuam%2B-%2BTamuning%20-%20Tamuning%2C%20GU%2B%3A%3BC4_EXP%3D1581407121%3A%3BC24%3D96913%3A%3BC24_EXP%3D1581407121%3A%3BC34%3D32.0%3A%3BC34_EXP%3D1530881274.829', '_br_uid_2':'uid%3D1645695940395%3Av%3D12.0%3Ats%3D1529567126677%3Ahc%3D23', '_gat':'1', 'ecrSessionId':'499D3FFBB10F3DECA80C0BBB198A2698', 'AMCV_F6421253512D2C100A490D45%40AdobeOrg':'-894706358%7CMCIDTS%7C17718%7CMCMID%7C91455857754636887762433555680828564080%7CMCAAMLH-1531203035%7C3%7CMCAAMB-1531485989%7CRKhpRz8krg2tLO6pguXWp5olkAcUniQYPHaMWWgdJ3xzPWQmdj0y%7CMCOPTOUT-1530884618s%7CNONE%7CMCAID%7CNONE%7CMCCIDH%7C-661508390%7CvVersion%7C2.3.0', 'akaau':'1530881581~id=1b28f3d3329a9b448b0c3f3c7c0b24b9', 'bm_sv':'312EFD4754E8931F871A8F24CBCB6F9C~EbwZkZCqLRSdfpP+bp3SskvjpJYAt26Rp1SiASd1oDzyFM76EJBa0ZXqLZ0pFDf6YuTaM5Hn/MVJ1debp6RA3+jbZnbXM3Ge04D1W9MQwPSQ3Cv9rfyRhsc0TaXLjGQf+FVXDhepR1lYs4jT9KyZaBcTFhvc697IDfaVSWZskiw=', 's_pers':'%20s_nr%3D1530881220809-Repeat%7C1562417220809%3B%20s_dslv%3D1530881220811%7C1625489220811%3B%20s_dslv_s%3DLess%2520than%25201%2520day%7C1530883020811%3B', 'mbox':'PC#c5dda6291304411da60dff188a0020a0.22_16#1592811926|session#77efb5c41fe44273bbb1cba2d087b3d4#1530883081', '_px':'bWoOD2Gh+MOcKmRdiefWqQEb6/bNWpHlgZUxNI0sFU4Ik8gYzaqXrB/kx6yF6GzagNmL3aM/bw9pq91IsvlZ6Q==:1000:T+z4PHtg/Hngl3DQIrgHHTD77bx4QyDZA6XrnFQlC/JKbioUa/JnXQwOmXyYljYSNstdc6asaup6esWd32OdNjd4+Z+BCaoy/N0jpjs98P0icL8lKyWarKOQNiCB0DAXbVyrntW4mY82t9AAgxU8ieJsva6zsvhnUY6M0NQ/Vd5kPhgHcUSkyuqYv7YHs4XDMbsk7i5jIuZDlkL90t/boKAR5dzEYhLV41xYdaDt/LkzGyziQZSCswOWluXvyYsx40Ob8dGnCt3FyFvNJ0haDQ==', 's_sess':'%20s_sq%3D%3B%20s_cc%3Dtrue%3B%20s_pv_pName%3Dmini%2520cart%2520overlay%3B%20s_pv_pType%3Dmini%2520cart%2520overlay%3B%20s_pv_cmpgn%3D%3B%20stsh%3D%3B', '_uetsid':'_uet8650607a', 'ctm':"{\'pgv\':6436954785468724|\'vst\':3423265420687422|\'vstr\':5326201115753699|\'intr\':1530881221857|\'v\':1|\'lvst\':42}", 'ctRefUrl':'https://www.homedepot.com/mycart/minicart#/?_k=am8wdw', 'forterToken':'8ccb5cac4b0b4a5c975055a2359bb15c_1530881221692__UDF43_6', '__CT_Data':'gpv=33&ckp=tld&dm=homedepot.com&apv_4_www23=33&cpv_4_www23=33&rpv_4_www23=32', '_4c_':'hVNbaxs9EP0rRQ958np1vxjCh%2BOG0A%2BSkDrFj0HWauMla%2B8iyd2G4P%2BekS9tLpT6ZTUzZ85Ix2de0LDyGzQhgmGtCaVGMzlCT%2F45oskLCk2VPz%2FRBGHBCSaSiaWppKWKKYY5ocYpbjWrCBqhX3sexTgjwEb4boSCO%2FWnsPWfMFxmTDpiattG%2Fx7CMRcAcRvX%2FhP0GOoT0%2FE5RBsh6SdwHur6I%2FQFbQNwo1VKfZyU5TAM41W39pXvuzR23brsy6vLgha6cNuiTsXM9tY16bmYJ5uabmPDc7GwceVDMTRpldPNpvUxwsn7triw8cmn4upmQaiez68Xi5JhQTjTlIEgrqs8jCdmzMcU4nrb1k3bzlMX%2FLevUIFcvw1uZWPG3UC49MnCsQvNY7OBeNY27unetv7HvoEow4zhTGqqMGc4d4RuiD5AcbYK8LgvUuVRoAGiWDPKATYmgoJcilABtQ7%2Bf7RoNhU0Qhh87UPYM0AUm5Tv8k4mSCcf1rkNjrfX998fLi6ns9ubN9rGwUb3Qd1lGWP5O9WHrioJLv%2BfF3TMxriMxlBMMBVUGsX1f9O7i3Nytm6qc0O4EFooJbiEt2qlJOWMCSGkxppqITnW%2BGx6d3mezdlnE3I4tJ0DqSAA34%2FQ1fThoNpfdKhgOVDla7ttEwLfHKyEjVQCzMUNvDqBfTQMyz9AAPjkwhM834UYKhjLdWA8rMSJ9j2MEZo3pzmh7Me6FvvNGv54PRcoprC%2Fb6GHDEBBrRMZqVztuCXLaim8x9LypTa6ltQb4pcqG%2FBIILlQnHDNdrvdKw%3D%3D'}
        yield req
        #time.sleep(.1)
	
    def parse2(self, response):
        try:
            data=demjson.decode(response.body)
            no_of_accessories=len(data['IRGITEMIDS']['ACCESSORY'])
        except: no_of_accessories=0
        urlpattern = "https://www.homedepot.com/p/svcs/frontEndModel/"+response.meta['productid']
        req = scrapy.Request(urlpattern ,headers={'authority': 'www.homedepot.com' , 'cache-control': 'max-age=0' , 'upgrade-insecure-requests': '1' , 'user-agent': 'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.87 Safari/537.36' , 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8' , 'accept-encoding': 'gzip, deflate, br' , 'accept-language': 'en-US,en;q=0.9'}, callback=self.parse3, meta={'response_url':response.meta['response_url'], 'productid':response.meta['productid'], 'installation':response.meta['installation'], 'accessories':no_of_accessories, 'breadcrumb':response.meta['breadcrumb'], 'item_id':response.meta['item_id']})
        #req.cookies={'HD_DC':'origin', 'THD_FORCE_LOC':'1', 'check':'true', 'AMCVS_F6421253512D2C100A490D45%40AdobeOrg':'1', 'THD_CACHE_NAV_PERSIST':'', 'RES_TRACKINGID':'895354131831062', 'ResonanceSegment':'', 'cto_lwid':'91e95255-ef25-46f8-a529-8f80cf7567a8', '_ga':'GA1.2.208324430.1529567125', 'aam_uuid':'91189372835669781092423751423903140869', '_CT_RS_':'Recording', 'WRUID15e':'1793994368270430', '_mibhv':'anon-1529567126670-7198012935_4577', 'CT_THD_FORCE_LOC':'1', 'ftr_ncd':'6', '_abck':'4ACD8EBCCEAFF2C261B2FFCEF718E57117D4328A6603000090572B5B22F1AE2D~0~5eyVSbVZn5NzhXJThph1wShLUl74xVzEtuNFslQZS2c=~-1~-1', 'ats-cid-AM-141099-sid':'59029963x', 'LPVID':'JlM2Y3Y2ViZjA2YTA5MmUx', 'THD_CACHE_NAV_SESSION':'C20%7E8119_%7EC20_EXP%7E_%7EC22%7E1710_%7EC22_EXP%7E_%7EC26%7ENone_%7EC26_EXP%7E', '_gid':'GA1.2.1028106834.1530783614', 'THD_MCC_ID':'b9498ceb-e51f-493a-aa6a-a2236e434571', 'ak_bmsc':'ADCBF2A879914447E5510318F2E8478F7C7CFC94D3420000E8373F5B3B55FC25~plSaT0z6OsxC4DUQ7q/HB9q/IjybxC5NjUNEWkxAmSohTuRhPROvLCxy3jgnaKi8Q1srVspXaX3QTeVLfNNPg1Y1qF1+31alfLnwzDDQ27GJdTL7dwiVC0ybZ+xVsqtTxP6aYBNCBU26qZlYFvPYccPIwZFWcS45jdzAbSRYOOdwH9wdaODTjfKw8GI5L+9CPBx7cRC3E0xlFA8GTPwd6SeN2F6w3QmMIMIqlbEW+kTSRMwwaJ9b/6dOqXmaP3plpR', 'THD-LOC-STORE':'', 'ShowMiniCart':'true', 's_dfa':'homedepotprod', 'CT_LOC_STORE':'', 'LPSID-31564604':'Ybl3OHRCRWKSHycB_IxTzQ', 'ecrSessionId':'E9CCEFD6DCBE80A17EF4CB369AA68568', 'THD_SESSION':'', '_br_uid_2':'uid%3D1645695940395%3Av%3D12.0%3Ats%3D1529567126677%3Ahc%3D16', 'AMCV_F6421253512D2C100A490D45%40AdobeOrg':'-894706358%7CMCIDTS%7C17718%7CMCMID%7C91455857754636887762433555680828564080%7CMCAAMLH-1531203035%7C3%7CMCAAMB-1531475787%7CRKhpRz8krg2tLO6pguXWp5olkAcUniQYPHaMWWgdJ3xzPWQmdj0y%7CMCOPTOUT-1530876940s%7CNONE%7CMCAID%7CNONE%7CMCCIDH%7C-661508390%7CvVersion%7C2.3.0', 'THD_PERSIST':'C4%3D1710%2BGuam%2B-%2BTamuning%20-%20Tamuning%2C%20GU%2B%3A%3BC4_EXP%3D1581407121%3A%3BC24%3D96913%3A%3BC24_EXP%3D1581407121%3A%3BC34%3D32.0%3A%3BC34_EXP%3D1530957389', 'akaau':'1530871379~id=33e2b1897fb82d9fd867afcbb87bd8c4', 'bm_sv':'F53210998D2AB7277786E5EE61FDB279~um4a7iWnRZ6cQd7EypkaxTIT9KV5IUS0tObqnZWbQQEUPi2TrF6ljcjwrWuZ2/KM29VSumc/xwJ72KGCY71dCLVcvEDqer3FWxhnDiBjMEuxZcgstosIb/2lCOiKBTGcBgDjTUaIsH4gkAZFMVqp8Yg8KscsFmn/7k91cYdJooY=', 'bm_sz':'808368533F78DF08E26594224B9B8A57~QAAQijLUFwbSoWJkAQAA85sYb/MobSE3exFyi8yTE7xNndh3UrgscI95HFFupAAdQ3zHxztKsv0wsuLVDLNh6J+EzTMvYN/++/7WHhksZxPQtTn74BYbr7Mpv4sfSlTswZzHPqW2NSC+Tgn+EiX4A/3ma817sxLX+CMPM1VzbnTxVyIvy1a0mpSSwjItqQzZBR8=', 's_pers':'%20s_nr%3D1530872242306-Repeat%7C1562408242306%3B%20s_dslv%3D1530872242308%7C1625480242308%3B%20s_dslv_s%3DLess%2520than%25201%2520day%7C1530874042308%3B', 'mbox':'PC#c5dda6291304411da60dff188a0020a0.22_16#1592811926|session#a718ae7bce42403a838f094413abbfb7#1530874103', 's_sess':'%20s_sq%3D%3B%20s_cc%3Dtrue%3B%20s_pv_pName%3Dmini%2520cart%2520overlay%3B%20s_pv_pType%3Dmini%2520cart%2520overlay%3B%20s_pv_cmpgn%3D%3B%20stsh%3D%3B', '_px':'ZeuJS3mS8qZcbiUPDvGem0R9DJBHA/b/aa6eqXQfQCOh01xBJdLm20P+UtUGQrcyVoZoh2skP+rHi9Bea9rk7w==:1000:HqgYMA6PRLj+P6dLErrLjLZS98DnJ1wi722vRfqkx2ULlG8HnfyqRTlFXeG4Ri1mLzwwfXKWCyT60D+VGXLZggh66/OJxRQdeRGy0Nh94PGQ7/QxvfROILrEgKzWpKT01J6ZdkQ79JNQCdZR79Bgk7dgvO4jdETYvP7I1jDb/aEzO8Ed7YCY0KG47MfW/WENtVj/92FztlrJRRn18EWy885+lWdLSWDWMlgF1FOJJ3r518bg65lAgn+I8fyz9ceTskrlb0z6v7ZVYKNAz1VJ8w==', '_uetsid':'_uet9109e939', 'ctRefUrl':'https://www.homedepot.com/mycart/minicart#/?_k=4zpukj', 'forterToken':'8ccb5cac4b0b4a5c975055a2359bb15c_1530872242795__UDF43_6', '__CT_Data':'gpv=20&ckp=tld&dm=homedepot.com&apv_4_www23=20&cpv_4_www23=20&rpv_4_www23=20', 'ctm':'{\'pgv\':3910924518967985|\'vst\':3363691994335637|\'vstr\':5326201115753699|\'intr\':1530873607126|\'v\':1|\'lvst\':207}', '_4c_':'hZNtT9swEMe%2FyuQXvGoTPz9UQlNhbNqk8TCYJu0NShyHRqRNZDsUhPrdObeEARVa39R397uz7%2FK%2FR7ReuBWaEcGwVkxjYTCZoFv3ENDsEfmmSn93aIaw4AQTyURpKllQxRTDnFBjFS80qwiaoPttHcU4I1CN8M0EeTvmRz%2B4PYbLxMRnpi7a4N4iHHMBiF3Z9r%2FQja%2FHSrt2sIGWDNuD06W2f0Yf0eChNlrE2IdZnq%2FX62zRLV3l%2Bi5mtlvmZX7eDsuyWd1Mz5vehenXJkawwvS8LUJs7NY9vRoSkp9OxYMld3%2FL4f4B%2BrVd5aA6MRnPKNj10NZN217GzrvvXyACvn7wdlGExJ2CWbpYwLHzzU2zAvu4beztVdG639sEogwzhjOpqcKc4ZThu3VwHoLHCw9v%2FyRVugpaRBRrRjlgGRHUCKkIFRDr4POiP82qgkQwvaud99sKYIUmpre8mQK4o%2FPLlAbHs59Xv66PTubHZ6evRhfWRbB7wwshf3H1vqtygvMfl1OasQznwRiKCaaCSqO4%2Fjy%2FODokB8umOjSEC6GFUoJL6FUrJSlnTAghNdZUC8mxxgfzi5PDpL0%2BaYzDoe0sjAoMkPUEfZtf76b2wRwq0D6qXF0MbUQgi51SsBGwC2kdoOsI6tBwWfoBkS7aCoe%2F0FpxYaAFs0%2FvvszHOQyW7X0OPGeU8YinbknCWYrDm3c7NT78LcYITavXjFTxPq7FdjXX%2F5YlBSimmtDX6M4DKHyPsRipbG15QcqqFM5hWfBSG11L6gxxpUoSfy4guVCccM02m80T'}
        req.cookies={'HD_DC':'origin', 'THD_FORCE_LOC':'1', 'check':'true', 'AMCVS_F6421253512D2C100A490D45%40AdobeOrg':'1', 'RES_TRACKINGID':'895354131831062', 'ResonanceSegment':'', 'cto_lwid':'91e95255-ef25-46f8-a529-8f80cf7567a8', '_ga':'GA1.2.208324430.1529567125', 'aam_uuid':'91189372835669781092423751423903140869', '_CT_RS_':'Recording', 'WRUID15e':'1793994368270430', '_mibhv':'anon-1529567126670-7198012935_4577', 'CT_THD_FORCE_LOC':'1', 'ftr_ncd':'6', '_abck':'4ACD8EBCCEAFF2C261B2FFCEF718E57117D4328A6603000090572B5B22F1AE2D~0~5eyVSbVZn5NzhXJThph1wShLUl74xVzEtuNFslQZS2c=~-1~-1', 'ats-cid-AM-141099-sid':'59029963x', 'LPVID':'JlM2Y3Y2ViZjA2YTA5MmUx', 'THD_CACHE_NAV_SESSION':'C20%7E8119_%7EC20_EXP%7E_%7EC22%7E1710_%7EC22_EXP%7E_%7EC26%7ENone_%7EC26_EXP%7E', '_gid':'GA1.2.1028106834.1530783614', 'THD_MCC_ID':'b9498ceb-e51f-493a-aa6a-a2236e434571', 'THD-LOC-STORE':'', 'ShowMiniCart':'true', 'CT_LOC_STORE':'', 'THD_SESSION':'', 'bm_sz':'808368533F78DF08E26594224B9B8A57~QAAQijLUFwbSoWJkAQAA85sYb/MobSE3exFyi8yTE7xNndh3UrgscI95HFFupAAdQ3zHxztKsv0wsuLVDLNh6J+EzTMvYN/++/7WHhksZxPQtTn74BYbr7Mpv4sfSlTswZzHPqW2NSC+Tgn+EiX4A/3ma817sxLX+CMPM1VzbnTxVyIvy1a0mpSSwjItqQzZBR8=', 'ak_bmsc':'0F195B95190DC705DDD8C8BD8EAF84347C7CFCA3C912000018563F5BBA4ACD2F~plTh8Hm6s2UP7vgqX3Zdq9/m/HPLAqMkQXU1zYWcxiAZVNKCMVw7i/k3DhvX/P1yAvubtWQbAVMx0crWhrdSw4hU2wrRWbpXiilr9yNs6axWfv13tzaIDqocuCV8ayx+/EBk5Cp+AAQ+rmo6Msom8CM+isU0x+qg4mk9eBQnb73Nz4lKRwV6wvNo4q+9O+P+eVQ7vypGe5P6SE1R5I5s192BT0pAsroSfWrm0BVNkD23bZtvimdZluDdsS2wvNGyqy', 'THD_CACHE_NAV_PERSIST':"", 'LPSID-31564604':'ASGeB4ygRnKMXY8OFbrxwg', '_pxff_tm':'1', 's_dfa':'homedepotprod', 'RES_SESSIONID':'520298084390880', 'THD_PERSIST':'C4%3D1710%2BGuam%2B-%2BTamuning%20-%20Tamuning%2C%20GU%2B%3A%3BC4_EXP%3D1581407121%3A%3BC24%3D96913%3A%3BC24_EXP%3D1581407121%3A%3BC34%3D32.0%3A%3BC34_EXP%3D1530881274.829', '_br_uid_2':'uid%3D1645695940395%3Av%3D12.0%3Ats%3D1529567126677%3Ahc%3D23', '_gat':'1', 'ecrSessionId':'499D3FFBB10F3DECA80C0BBB198A2698', 'AMCV_F6421253512D2C100A490D45%40AdobeOrg':'-894706358%7CMCIDTS%7C17718%7CMCMID%7C91455857754636887762433555680828564080%7CMCAAMLH-1531203035%7C3%7CMCAAMB-1531485989%7CRKhpRz8krg2tLO6pguXWp5olkAcUniQYPHaMWWgdJ3xzPWQmdj0y%7CMCOPTOUT-1530884618s%7CNONE%7CMCAID%7CNONE%7CMCCIDH%7C-661508390%7CvVersion%7C2.3.0', 'akaau':'1530881581~id=1b28f3d3329a9b448b0c3f3c7c0b24b9', 'bm_sv':'312EFD4754E8931F871A8F24CBCB6F9C~EbwZkZCqLRSdfpP+bp3SskvjpJYAt26Rp1SiASd1oDzyFM76EJBa0ZXqLZ0pFDf6YuTaM5Hn/MVJ1debp6RA3+jbZnbXM3Ge04D1W9MQwPSQ3Cv9rfyRhsc0TaXLjGQf+FVXDhepR1lYs4jT9KyZaBcTFhvc697IDfaVSWZskiw=', 's_pers':'%20s_nr%3D1530881220809-Repeat%7C1562417220809%3B%20s_dslv%3D1530881220811%7C1625489220811%3B%20s_dslv_s%3DLess%2520than%25201%2520day%7C1530883020811%3B', 'mbox':'PC#c5dda6291304411da60dff188a0020a0.22_16#1592811926|session#77efb5c41fe44273bbb1cba2d087b3d4#1530883081', '_px':'bWoOD2Gh+MOcKmRdiefWqQEb6/bNWpHlgZUxNI0sFU4Ik8gYzaqXrB/kx6yF6GzagNmL3aM/bw9pq91IsvlZ6Q==:1000:T+z4PHtg/Hngl3DQIrgHHTD77bx4QyDZA6XrnFQlC/JKbioUa/JnXQwOmXyYljYSNstdc6asaup6esWd32OdNjd4+Z+BCaoy/N0jpjs98P0icL8lKyWarKOQNiCB0DAXbVyrntW4mY82t9AAgxU8ieJsva6zsvhnUY6M0NQ/Vd5kPhgHcUSkyuqYv7YHs4XDMbsk7i5jIuZDlkL90t/boKAR5dzEYhLV41xYdaDt/LkzGyziQZSCswOWluXvyYsx40Ob8dGnCt3FyFvNJ0haDQ==', 's_sess':'%20s_sq%3D%3B%20s_cc%3Dtrue%3B%20s_pv_pName%3Dmini%2520cart%2520overlay%3B%20s_pv_pType%3Dmini%2520cart%2520overlay%3B%20s_pv_cmpgn%3D%3B%20stsh%3D%3B', '_uetsid':'_uet8650607a', 'ctm':"{\'pgv\':6436954785468724|\'vst\':3423265420687422|\'vstr\':5326201115753699|\'intr\':1530881221857|\'v\':1|\'lvst\':42}", 'ctRefUrl':'https://www.homedepot.com/mycart/minicart#/?_k=am8wdw', 'forterToken':'8ccb5cac4b0b4a5c975055a2359bb15c_1530881221692__UDF43_6', '__CT_Data':'gpv=33&ckp=tld&dm=homedepot.com&apv_4_www23=33&cpv_4_www23=33&rpv_4_www23=32', '_4c_':'hVNbaxs9EP0rRQ958np1vxjCh%2BOG0A%2BSkDrFj0HWauMla%2B8iyd2G4P%2BekS9tLpT6ZTUzZ85Ix2de0LDyGzQhgmGtCaVGMzlCT%2F45oskLCk2VPz%2FRBGHBCSaSiaWppKWKKYY5ocYpbjWrCBqhX3sexTgjwEb4boSCO%2FWnsPWfMFxmTDpiattG%2Fx7CMRcAcRvX%2FhP0GOoT0%2FE5RBsh6SdwHur6I%2FQFbQNwo1VKfZyU5TAM41W39pXvuzR23brsy6vLgha6cNuiTsXM9tY16bmYJ5uabmPDc7GwceVDMTRpldPNpvUxwsn7triw8cmn4upmQaiez68Xi5JhQTjTlIEgrqs8jCdmzMcU4nrb1k3bzlMX%2FLevUIFcvw1uZWPG3UC49MnCsQvNY7OBeNY27unetv7HvoEow4zhTGqqMGc4d4RuiD5AcbYK8LgvUuVRoAGiWDPKATYmgoJcilABtQ7%2Bf7RoNhU0Qhh87UPYM0AUm5Tv8k4mSCcf1rkNjrfX998fLi6ns9ubN9rGwUb3Qd1lGWP5O9WHrioJLv%2BfF3TMxriMxlBMMBVUGsX1f9O7i3Nytm6qc0O4EFooJbiEt2qlJOWMCSGkxppqITnW%2BGx6d3mezdlnE3I4tJ0DqSAA34%2FQ1fThoNpfdKhgOVDla7ttEwLfHKyEjVQCzMUNvDqBfTQMyz9AAPjkwhM834UYKhjLdWA8rMSJ9j2MEZo3pzmh7Me6FvvNGv54PRcoprC%2Fb6GHDEBBrRMZqVztuCXLaim8x9LypTa6ltQb4pcqG%2FBIILlQnHDNdrvdKw%3D%3D'}
        yield req

    def parse3(self, response):
        item=HomedepotItems()
        data=demjson.decode(response.body)
        title= data['primaryItemData']['info']['productLabel']
        price= data['primaryItemData']['itemExtension']['pricing']['specialPrice']
        try:brand= data['primaryItemData']['info']['brandName']
        except: brand=""
        model_number= data['primaryItemData']['info']['modelNumber']
        no_of_reviews= data['primaryItemData']['ratingsReviews']['totalReviews']
        ratings= data['primaryItemData']['ratingsReviews']['averageRating']
        if ratings : ratings = round(float(ratings), 1)
        local_store_purchase= data['fulfillment']['isPurchasableInLocalStore']
        try:
            free_delivery= data['primaryItemData']['shipping']['eligibleForFreeShipping']
        except:free_delivery="Delivery Unavailable"
        list1=data['primaryItemData']['media']['mediaList']
        images_list=[]
        videos_list=[dicts['mediaType'] for dicts in list1 if dicts['mediaType']=="BRIGHTCOVE VIDEO"]
        for dicts in list1:
            try:
                if dicts['width']=='145' and dicts['height']=='145':
                    images_list.append(dicts)
            except:pass
        no_of_images= len(images_list)
        no_of_videos= len(videos_list)
        item= HomedepotItems()
        item['home_installation']= response.meta['installation']
        item['no_of_accessories']= response.meta['accessories']
        item['productid']= response.meta['productid']
        item['response_url']=response.meta['response_url']
        item['breadcrumb']=response.meta['breadcrumb']
		
        nodes = response.meta['breadcrumb'].split(">")
        if  len(nodes)>0:
            item['node_1'] = nodes[0]
        if  len(nodes)>1:
            item['node_2'] = nodes[1]
        if  len(nodes)>2:
            item['node_3'] = nodes[2]
        if  len(nodes)>3:
            item['node_4'] = nodes[3]
        if  len(nodes)>4:
            item['node_5'] = nodes[4]
        if  len(nodes)>5:
            item['node_6'] = nodes[5]

        item['item_id']=response.meta['item_id']
        item['title']=title
        item['price']=price
        item['brand']=brand
        item['modelnumber']=model_number
        item['reviews']=no_of_reviews
        item['ratings']=ratings
        item['pick_up_at_store']="Yes" if local_store_purchase == True else "No"
        item['ship_to_home']="Yes" if free_delivery == True else "No"
        item['no_of_images']=no_of_images
        item['no_of_videos']=no_of_videos
        yield item